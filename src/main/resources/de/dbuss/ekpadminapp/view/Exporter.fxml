<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="de.dbuss.ekpadminapp.controller.ExporterController"
            prefWidth="1000" prefHeight="680">

    <!-- Top-Bar: Zielverzeichnis, Parallelität, Start, Progress, Info -->
    <top>
        <VBox spacing="6" BorderPane.alignment="CENTER">
            <children>
                <HBox spacing="8" alignment="CENTER_LEFT">
                    <children>
                        <Label text="Export-Verzeichnis:"/>
                        <TextField fx:id="directoryField" HBox.hgrow="ALWAYS"
                                   promptText="Doppelklick zum Auswählen..."/>
                        <Label text="Parallel-Jobs:"/>
                        <Spinner fx:id="spnMaxParallels" prefWidth="90"/>
                        <Button fx:id="btnStart" text="Start" onAction="#onStart"/>
                    </children>
                    <padding><Insets top="10" right="10" bottom="0" left="10"/></padding>
                </HBox>

                <HBox spacing="8" alignment="CENTER_LEFT">
                    <children>
                        <ProgressBar fx:id="Progress" prefWidth="350"/>
                        <Label fx:id="InfoLabel" text="Bereit"/>
                    </children>
                    <padding><Insets top="0" right="10" bottom="10" left="10"/></padding>
                </HBox>
            </children>
        </VBox>
    </top>

    <!-- Mitte: Dual-List-Selector -->
    <center>
        <HBox spacing="12" alignment="CENTER" BorderPane.alignment="CENTER">
            <children>
                <ListView fx:id="leftList"  prefWidth="300" prefHeight="260"/>
                <VBox spacing="8" alignment="CENTER">
                    <children>
                        <Button fx:id="toRight"    text="&gt;"    onAction="#onToRight"/>
                        <Button fx:id="allToRight" text="&gt;&gt;" onAction="#onAllToRight"/>
                        <Button fx:id="toLeft"     text="&lt;"    onAction="#onToLeft"/>
                        <Button fx:id="allToLeft"  text="&lt;&lt;" onAction="#onAllToLeft"/>
                    </children>
                </VBox>
                <ListView fx:id="rightList" prefWidth="300" prefHeight="260"/>
            </children>
            <padding><Insets top="10" right="10" bottom="10" left="10"/></padding>
        </HBox>
    </center>

    <!-- Unten: Job-Tabelle -->
    <bottom>
        <VBox spacing="6" BorderPane.alignment="CENTER">
            <children>
                <Label text="Export-Jobs"/>
                <TableView fx:id="jobTable" prefHeight="300">
                    <columns>
                        <TableColumn fx:id="colTable"    text="Tabelle"            prefWidth="160"/>
                        <TableColumn fx:id="colSize"     text="Größe (GB)"         prefWidth="100"/>
                        <TableColumn fx:id="colRows"     text="Zeilen"             prefWidth="100"/>
                        <TableColumn fx:id="colBytes"    text="Bytes (done/total)" prefWidth="220"/>
                        <!-- Achtung: im Controller ist der Typ Double -->
                        <TableColumn fx:id="colProgress" text="Fortschritt"        prefWidth="140"/>
                        <TableColumn fx:id="colStatus"   text="Status"             prefWidth="120"/>
                        <TableColumn fx:id="colMessage"  text="Meldung"            prefWidth="360"/>
                    </columns>
                </TableView>
            </children>
            <padding><Insets top="0" right="10" bottom="10" left="10"/></padding>
        </VBox>
    </bottom>

</BorderPane>
